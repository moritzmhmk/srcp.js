<html>
  <head>
    <title>SRCP.js</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="76x76" href="apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="120x120" href="apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-152x152.png">
    
    <script type="text/javascript" src="script/Sortable.min.js?1"></script>

    <script type="text/javascript" src="script/jquery.js?1"></script>
    <script type="text/javascript" src="script/ui.js?1"></script>
    <script type="text/javascript" src="script/utils.js?1"></script>
    <link rel="stylesheet" type="text/css" href="style/ui.css?1">
    <link rel="stylesheet" type="text/css" href="style/style.css?1">

    <script type="text/javascript" src="script/websockify/base64.js"></script>
    <script type="text/javascript" src="script/websockify/util.js"></script>
    <script type="text/javascript" src="script/websockify/websock.js"></script>
    <script type="text/javascript" src="script/srcp_session.js"></script>

    <script type="text/javascript" src="script/cli.js"></script>
    <script type="text/javascript" src="script/devices.js"></script>

    <script type="text/javascript" src="script/index.js"></script>

    <script type="text/javascript">
      //must be done after all input-fields have been generated (tags-input...)
      $(function() {
        $('input').on('focus',function(e) { 
          this.style.webkitTransform = 'translate3d(-10000px,0,0)'//disables horizontal ios scrolling by moving the input temporary
          webkitRequestAnimationFrame(function() { this.style.webkitTransform = '' }.bind(this))
        })
      })
    </script>
  </head>
  <body>
    <div id="header">
      <a href="javascript:addDeviceDialog()" id="add">Add</a>
      SRCP.js
      <a href="javascript:editMode()" id="edit">Edit</a>
    </div>
    <div id="pageOuter"><div id="pageMiddle"><div id="pageInner">
      <div id="GL_container" class="container scrollable">
        <div class="devices"></div>
      </div>
      <div id="GA_container" class="container scrollable">
        <div class="devices"></div>
      </div>
      <div id="POWER_container" class="container scrollable">
        <div class="devices"></div>
      </div>
      <div id="log_container" class="container scrollable">
        <div id="log"></div>
        <form id="cli_container">
          &gt;
          <input type="text" class="cli_input autoresize_input" id="command_input"    placeholder="cmd">
          <input type="text" class="cli_input autoresize_input" id="bus_input"      placeholder="bus">
          <input type="text" class="cli_input autoresize_input" id="device_group_input" placeholder="device">
          <input type="text" class="cli_input autoresize_input" id="content_input"    placeholder="content">
        </form>
      </div>

      <div id="prototypes" style="display:none">
        <div class="device GL" data-addr="0" data-drivemode="0" data-v="0" data-vmax="0">
          <div class="delete_circle"></div>
          <div class="info">
            <img class="icon" src="">
            <span class="edit prot">M1</span>
            <span class="edit addr">1</span>
            <span class="edit name">Loco 1</span>
            <input class="stop" type="button" value="STOP">
          </div>
          <div class="movement">
            <img class="bwd" src="images/bwd.png">
            <input class="speed" type="range" min="0" max="100" value="0" step="1" data-color-left="#DD0000">
            <img class="fwd" src="images/fwd.png">
          </div>
          <div class="functions">
            <span class="function f1">f1</span>
            <span class="function f2">f2</span>
            <span class="function f3">f3</span>
            <span class="function f4">f4</span>
            <span class="function f5">f5</span>
            <span class="function f6">f6</span>
            <span class="function f7">f7</span>
            <span class="function f8">f8</span>
            <span class="function f9">f9</span>
          </div>
          <div class="drag"></div>
          <div class="delete"></div>
        </div>
        <div class="device GA" data-addr="0">
          <div class="delete_circle"></div>
          <div class="info">
            <img class="icon" src="">
            <span class="edit prot">M</span>
            <span class="edit addr">1</span>
            <span class="edit name">Turnout 1</span>
            <input class="toggle" type="checkbox">
          </div>
          <div class="drag"></div>
          <div class="delete"></div>
        </div>
        <div class="device POWER" data-bus="1">
          <div class="delete_circle"></div>
          <div class="info">
            <img class="icon" src="">
            <span class="edit bus">1</span>
            <span class="edit name">Bus 1</span>
            <input class="toggle" type="checkbox">
          </div>
          <div class="drag"></div>
          <div class="delete"></div>
        </div>
      </div>
      <pre id="generic_messages"></pre>
    </div></div></div>

    <div id="navbar">
      <span data-name="GL"><img src="images/GL_active.png" height="28px"><br>Locomotives</span>
      <span data-name="GA"><img src="images/GA.png" height="25px"><br>Accessories</span>
      <span data-name="POWER"><img src="images/POWER.png" height="25px"><br>Power</span>
      <span data-name="log"><img src="images/log.png" height="23px"><br>Log</span>
    </div>

    <div id="add_device_container" class="box">
      <div class="arrow"> </div>
      <div class="dialog">
        <br>
        <p>
          <select id="device_type">
            <option value="GL">Locomotive</option>
            <option value="GA">Accessory</option>
            <option value="POWER">Power switch</option>
          </select>
        </p>
        <div class="br"></div>
        <div id="GL_dialog">
          <p>
            <label for="GL_prot">Protocol</label>
            <input id="GL_prot" type="text" name="prot" value="M">
          </p>
          <p>
            <label for="GL_addr">Address</label>
            <input id="GL_addr" type="text" name="addr" value="1">
          </p>
          <div class="br"></div>
          <button>Add locomotive</button>
        </div>
        <div id="GA_dialog">
          <p>
            <label for="GA_prot">Protocol</label>
            <input id="GA_prot" type="text" name="prot" value="M">
          </p>
          <p>
            <label for="GA_addr">Address</label>
            <input id="GA_addr" type="text" name="addr" value="1">
          </p>
          <div class="br"></div>
          <button>Add accessory</button>
        </div>
        <div id="POWER_dialog">
          <p>
            <label for="POWER_bus">Bus</label>
            <input id="POWER_bus" type="text" name="bus" value="1">
          </p>
          <div class="br"></div>
          <button>Add power switch</button>
        </div>
        <div class="br"></div>
        <button id="add_device_cancel" class="cancel">Cancel</button>
      </div>
    </div>

    <div id="server_settings">
      <div class="outer"><div class="middle"><div class="inner">
        <div class="title">Server Settings</div>
        <div id="server_close_msg"></div>
        <input type="text" value="localhost" id="host" style="width:150px">
        :
        <input type="text" value="4303" id="port" style="width:50px">
        <input type="button" value="Connect" id="open_sessions">
      </div></div></div>
    </div>
  </body>
</html>
